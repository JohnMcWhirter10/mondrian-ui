/**
 * DropdownMenu Component
 * 
 * Follows Piet Mondrian's neoplasticism principles with:
 * - Rectangular shapes (no rounded corners)
 * - Primary color palette (red, blue, yellow, black, white)
 * - Strong black grid lines
 * - Asymmetrical balance
 */

/* Base Menu Content */
.mondrian-dropdown-menu-content,
.mondrian-dropdown-menu-subcontent {
  min-width: 8rem;
  background-color: var(--mondrian-background);
  border: var(--mondrian-grid-width) solid var(--mondrian-border);
  color: var(--mondrian-text);
  padding: var(--mondrian-spacing-small);
  z-index: 50;
  box-shadow: 4px 4px 0 var(--mondrian-shadow);
  /* Animation */
  transition:
    transform 0.2s,
    opacity 0.2s;
  transform-origin: var(--radix-dropdown-menu-content-transform-origin);
  animation-duration: 0.2s;
}

/* Dark mode */
[data-theme='dark'] .mondrian-dropdown-menu-content,
[data-theme='dark'] .mondrian-dropdown-menu-subcontent {
  background-color: var(--mondrian-background);
  color: var(--mondrian-text);
  box-shadow: 4px 4px 0 var(--mondrian-shadow);
}

/* Menu Item */
.mondrian-dropdown-menu-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--mondrian-spacing-small);
  padding: var(--mondrian-spacing-small) var(--mondrian-spacing-medium);
  cursor: default;
  outline: none;
  font-size: var(--mondrian-font-size-medium);
  font-family: var(--mondrian-font-family);
  transition: background-color 0.2s;
}

.mondrian-dropdown-menu-item.inset {
  padding-left: var(--mondrian-spacing-large);
}

.mondrian-dropdown-menu-item:hover,
.mondrian-dropdown-menu-item:focus {
  background-color: var(--mondrian-blue);
  color: var(--mondrian-white);
}

.mondrian-dropdown-menu-item[data-disabled] {
  opacity: 0.5;
  pointer-events: none;
}

/* Sub Trigger */
.mondrian-dropdown-menu-subtrigger {
  position: relative;
  display: flex;
  align-items: center;
  padding: var(--mondrian-spacing-small) var(--mondrian-spacing-medium);
  cursor: default;
  outline: none;
  font-size: var(--mondrian-font-size-medium);
  font-family: var(--mondrian-font-family);
}

.mondrian-dropdown-menu-subtrigger.inset {
  padding-left: var(--mondrian-spacing-large);
}

.mondrian-dropdown-menu-subtrigger:hover,
.mondrian-dropdown-menu-subtrigger:focus,
.mondrian-dropdown-menu-subtrigger[data-state='open'] {
  background-color: var(--mondrian-blue);
  color: var(--mondrian-white);
}

.mondrian-dropdown-menu-chevron {
  width: 16px;
  height: 16px;
  margin-left: auto;
  pointer-events: none;
}

/* Checkbox & Radio Items */
.mondrian-dropdown-menu-checkbox-item,
.mondrian-dropdown-menu-radio-item {
  position: relative;
  display: flex;
  align-items: center;
  padding: var(--mondrian-spacing-small) var(--mondrian-spacing-medium);
  padding-left: calc(
    var(--mondrian-spacing-large) + var(--mondrian-spacing-medium)
  );
  cursor: default;
  outline: none;
  font-size: var(--mondrian-font-size-medium);
  font-family: var(--mondrian-font-family);
}

.mondrian-dropdown-menu-checkbox-item:hover,
.mondrian-dropdown-menu-checkbox-item:focus,
.mondrian-dropdown-menu-radio-item:hover,
.mondrian-dropdown-menu-radio-item:focus {
  background-color: var(--mondrian-blue);
  color: var(--mondrian-white);
}

.mondrian-dropdown-menu-checkbox-indicator,
.mondrian-dropdown-menu-radio-indicator {
  position: absolute;
  left: var(--mondrian-spacing-medium);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  margin-right: var(--mondrian-spacing-medium);
}

.mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-square {
  width: 16px;
  height: 16px;
}

/* Theme color variants for icons */
.mondrian-dropdown-menu-checkbox-item.blue .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item.blue .mondrian-dropdown-menu-square {
  color: var(--mondrian-blue);
}

.mondrian-dropdown-menu-checkbox-item.neutral .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item.neutral .mondrian-dropdown-menu-square {
  color: var(--mondrian-yellow);
}

.mondrian-dropdown-menu-checkbox-item.yellow .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item.yellow .mondrian-dropdown-menu-square {
  color: var(--mondrian-yellow);
}

.mondrian-dropdown-menu-checkbox-item.red .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item.red .mondrian-dropdown-menu-square {
  color: var(--mondrian-error);
}

.mondrian-dropdown-menu-checkbox-item.green .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item.green .mondrian-dropdown-menu-square {
  color: var(--mondrian-success);
}

/* Label */
.mondrian-dropdown-menu-label {
  padding: var(--mondrian-spacing-small) var(--mondrian-spacing-medium);
  font-size: var(--mondrian-font-size-medium);
  font-family: var(--mondrian-font-family);
  font-weight: bold;
}

.mondrian-dropdown-menu-label.inset {
  padding-left: var(--mondrian-spacing-large);
}

/* Separator */
.mondrian-dropdown-menu-separator {
  height: var(--mondrian-grid-width);
  background-color: var(--mondrian-border);
  margin: var(--mondrian-spacing-small) calc(var(--mondrian-spacing-small) * -1);
}

[data-theme='dark'] .mondrian-dropdown-menu-separator {
  background-color: var(--mondrian-border);
}

/* Shortcut */
.mondrian-dropdown-menu-shortcut {
  margin-left: auto;
  font-size: var(--mondrian-font-size-small);
  letter-spacing: 0.1em;
  opacity: 0.6;
}

/* Animation states from Radix */
.mondrian-dropdown-menu-content[data-state='open'],
.mondrian-dropdown-menu-subcontent[data-state='open'] {
  animation-name: mondrian-dropdown-show;
}

.mondrian-dropdown-menu-content[data-state='closed'],
.mondrian-dropdown-menu-subcontent[data-state='closed'] {
  animation-name: mondrian-dropdown-hide;
}

@keyframes mondrian-dropdown-show {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes mondrian-dropdown-hide {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-4px);
  }
}

/* Size variants for checkbox and radio items */
.mondrian-dropdown-menu-checkbox-item-sm,
.mondrian-dropdown-menu-radio-item-sm {
  padding: calc(var(--mondrian-spacing-small) * 0.75)
    var(--mondrian-spacing-small);
  padding-left: calc(
    var(--mondrian-spacing-large) + var(--mondrian-spacing-small)
  );
  font-size: var(--mondrian-font-size-small);
}

.mondrian-dropdown-menu-checkbox-item-lg,
.mondrian-dropdown-menu-radio-item-lg {
  padding: calc(var(--mondrian-spacing-small) * 1.25)
    var(--mondrian-spacing-large);
  padding-left: calc(
    var(--mondrian-spacing-large) + var(--mondrian-spacing-large)
  );
  font-size: var(--mondrian-font-size-large);
}

.mondrian-dropdown-menu-checkbox-item-sm
  .mondrian-dropdown-menu-checkbox-indicator,
.mondrian-dropdown-menu-radio-item-sm .mondrian-dropdown-menu-radio-indicator {
  left: var(--mondrian-spacing-small);
  width: 14px;
  height: 14px;
}

.mondrian-dropdown-menu-checkbox-item-lg
  .mondrian-dropdown-menu-checkbox-indicator,
.mondrian-dropdown-menu-radio-item-lg .mondrian-dropdown-menu-radio-indicator {
  left: var(--mondrian-spacing-large);
  width: 20px;
  height: 20px;
}

.mondrian-dropdown-menu-checkbox-item-sm .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item-sm .mondrian-dropdown-menu-square {
  width: 10px;
  height: 10px;
}

.mondrian-dropdown-menu-checkbox-item-lg .mondrian-dropdown-menu-check,
.mondrian-dropdown-menu-radio-item-lg .mondrian-dropdown-menu-square {
  width: 16px;
  height: 16px;
}

/* DropdownMenu content - the dropdown itself */
.mondrian-dropdown-content {
  min-width: 200px;
  background-color: var(--mondrian-background);
  border: var(--mondrian-grid-width) solid var(--mondrian-border);
  color: var(--mondrian-text);
  padding: 0;
  z-index: 10;
  box-shadow: 4px 4px 0 var(--mondrian-shadow);
  /* Animation */
  animation-duration: 300ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  will-change: transform, opacity;
}

/* Theme variants for dropdown content */
.mondrian-dropdown-content.yellow {
  background-color: var(--mondrian-yellow);
  color: var(--mondrian-black);
}

.mondrian-dropdown-content.blue {
  background-color: var(--mondrian-blue);
  color: var(--mondrian-white);
}

.mondrian-dropdown-content.red {
  background-color: var(--mondrian-red);
  color: var(--mondrian-white);
}

.mondrian-dropdown-content.green {
  background-color: var(--mondrian-success);
  color: var(--mondrian-white);
}

[data-theme='dark'] .mondrian-dropdown-content {
  background-color: var(--mondrian-background);
  color: var(--mondrian-text);
  box-shadow: 4px 4px 0 var(--mondrian-shadow);
}
